<!DOCTYPE html>
<html>
<head>
    <title>NeuralForge PS3.23 - Emergency AI</title>
    <style>
        body { font-family: Arial; background:#0f172a; color:white; }
        .box { max-width:600px; margin:50px auto; background:#020617; padding:20px; border-radius:10px; }
        textarea { width:100%; height:100px; }
        button { width:100%; padding:10px; background:red; color:white; border:none; margin-top:10px; cursor:pointer; }
        .result { margin-top:20px; border:2px solid red; padding:10px; }
    </style>
</head>
<body>

<div class="box">
    <h2>ðŸš¨ NeuralForge PS3.23 â€“ AI Emergency Triage</h2>

    <textarea id="msg" placeholder="Type emergency message..."></textarea>
    <input id="loc" placeholder="Location" style="width:100%;margin-top:10px;"/>

    <button onclick="send()">Send Emergency</button>

    <div id="result" class="result"></div>
</div>

<script>
async function send(){
    const msg = document.getElementById("msg").value;
    const loc = document.getElementById("loc").value;

    const res = await fetch("http://127.0.0.1:8000/api/emergency", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify({ message: msg, location: loc })
    });

    const data = await res.json();

    document.getElementById("result").innerHTML = `
        <h3>ðŸš¨ ${data.priority}</h3>
        <p><b>Type:</b> ${data.type}</p>
        <p><b>Location:</b> ${data.location}</p>
        <p><b>Team:</b> ${data.assigned_team.type}</p>
        <p><b>ETA:</b> ${data.eta}</p>
        <p><b>Status:</b> ${data.status}</p>
    `;
}
</script>

</body>
</html>
